 thanos 的降采样功能核心逻辑其实很简单，就是一个downsample 的go文件进行聚合操作；但是实际上要将采样后的指标数据，进行可拓展查询、存储，则依赖 thanos 复杂的查询引擎、存储引擎；所以，如果想要在 vm 上借鉴这个降采样的思路，就需要接受较大的改动；


可预见的改动点：
- 存储结构需要支持聚合后，保留了指标特征值的新数据结构；
- 查询需要适配不同分辨率处理，整合
- 需要新增任务扫描存储指标进行降采样

问题：
- 学习成本高，要支持一种新结构的CRUD，并且需要兼容老结构，首先就需要非常熟悉整体的代码，了解每一个细节，才能动手改造；
- 侵入性大，改完后续合入社区版本代码，大概率是冲突的

可能的解决思路？
- 新启一个仓库，专门负责扫描vm的数据，然后按照降采样后的数据结构存储到另外一个地方；
- 对vm-select做适配，根据查询参数中的分辨率，查询不同的存储引擎，类似与 thanos，最后再整合数据即可

