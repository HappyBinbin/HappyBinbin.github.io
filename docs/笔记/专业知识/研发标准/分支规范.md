# 分支提交规范

## 分支规范

在互联网中，一个系统需要多个团队，多个小组进行合作研发，比如一个营销系统，就包括了抽奖组件、人群组件、API网关、发放系统等。

IDEA里面，一个工程里有多个模块，每个模块都有属于自己的分支，一般分为一下几种分支

- master 主分支，线上分支，也就是真正在服务器上运行的分支，是红线，不允许直接修改的
- test 分支，测试环境分支，速成线下环境，每个人都需要把自己开发完的分支进行提测，也就是合并到test分支进行测试验证
- 需求分支，也是就个人分支，功能分支，一个需求可能由该次需求负责人负责创建分支，大家开发完合并为一个分支后，再一起提测

**重点**，如果有人不遵守分支规范或者压根没概念，把自己的需求代码写在test分支上，并且是多次修改提交都在test分支写。那么就危险了，严重会耽误上线；为什么？

1. test分支，是由大家把自己的代码合并过来共用的，那么这个分支就会包含2个或者更多的并行需求，当你需要上线的时候，需要把自己的代码合并到master，但test分支代码是不能合并到master的，那么多未知的内容，根本没有在上线范围。
2. 那么你又想上线，又不能避开test分支，就需要把你写的代码，重新粘贴过去，这个时间成本非常大。
3. test分支，还随时有删除重新拉的可能，如果有人通知大家删除重新拉，那你的代码就会丢失。

![image-20220119203310000](https://gitee.com/HappyBinbin/pcigo/raw/master/image-20220119203310000.png)



## 分支命名格式

日期 _ 姓名首字母缩写 _ 功能单词，如： 220119_happy_initial_commit

## 提交规范

作者，type：desc 如：happy，fix，修复查询用户信息问题

### type分类

```shell
# 主要type
feat:     增加新功能
fix:      修复bug

# 特殊type
docs:     只改动了文档相关的内容
style:    不影响代码含义的改动，例如去掉空格、改变缩进、增删分号
build:    构造工具的或者外部依赖的改动，例如webpack，npm
refactor: 代码重构时使用
revert:   执行git revert打印的message

# 暂不使用type
test:     添加测试或者修改现有测试
perf:     提高性能的改动
ci:       与CI（持续集成服务）有关的改动
chore:    不修改src或者test的其余修改，例如构建过程或辅助工具的变动
```

